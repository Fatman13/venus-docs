(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{372:function(e,s,t){"use strict";t.r(s);var a=t(45),n=Object(a.a)({},(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"how-to-start-a-test-network"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#how-to-start-a-test-network"}},[e._v("#")]),e._v(" How to start a test network")]),e._v(" "),t("p",[e._v("This document takes building a 2k private network as an example.")]),e._v(" "),t("h2",{attrs:{id:"necessary-environment"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#necessary-environment"}},[e._v("#")]),e._v(" Necessary environment")]),e._v(" "),t("p",[e._v("Based on CentOS 7.* :")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("yum install epel-release -y\nyum install ocl-icd-devel -y\nyum install opencl-headers -y\nyum install hwloc\nyum install jq -y \n")])])]),t("p",[e._v("During the process, there is a prompt to install any components.")]),e._v(" "),t("h2",{attrs:{id:"generating-node"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#generating-node"}},[e._v("#")]),e._v(" Generating node")]),e._v(" "),t("ol",[t("li",[t("p",[e._v("Generate pre-seal files and data")]),e._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[e._v("    ./venus seed pre-seal --sector-size "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("2048")]),e._v(" --num-sectors "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),e._v("\n    ./venus seed genesis new localnet.json\n    ./venus seed genesis add-miner localnet.json ~/.genesis-sectors/pre-seal-t01000.json\n")])])])]),e._v(" "),t("li",[t("p",[e._v("Start daemon")]),e._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[e._v("     ./venus daemon --make-genesis"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("devgen.car --genesis-template"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("localnet.json --network"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("2k\n     "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Set wallet password")]),e._v("\n     ./venus wallet set-password "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("password"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n     ./venus wallet "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("import")]),e._v(" ~/.genesis-sectors/pre-seal-t01000.key\n     "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# After restarting the deamon, you need to unlock the wallet")]),e._v("\n     ./venus wallet unlock "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("--"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("password"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n")])])])]),e._v(" "),t("li",[t("p",[e._v("Initialize miner")]),e._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[e._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# init sealer")]),e._v("\n    ./venus-sealer init --genesis-miner --actor"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("t01000 --sector-size"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("2048")]),e._v(" --pre-sealed-sectors"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("~/.genesis-sectors --pre-sealed-metadata"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("~/.genesis-sectors/pre-seal-t01000.json --nosync --network"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("2k\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# init miner, one program can be responsible for mining of multiple miners (joint mining)")]),e._v("\n    ./venus-miner init\n")])])])]),e._v(" "),t("li",[t("p",[e._v("Start service of Genesis Miners")]),e._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[e._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Start the sealing service")]),e._v("\n    ./venus-sealer run --nosync\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Start the mining service")]),e._v("\n    ./venus-miner run --nosync\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Add the miner, start mining")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("cat")]),e._v(" .venussealer/api  -"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" /ip4/127.0.0.1/tcp/2345/http\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("cat")]),e._v(" .venussealer/token -"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" TOKEN\n    ./venus-miner address "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("add")]),e._v(" --addr"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("t01000 --listen-api"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/ip4/"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("sealer_ip"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("/tcp/2345/http --token"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$TOKEN")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# miner list")]),e._v("\n    ./venus-miner address list\n")])])])])]),e._v(" "),t("h2",{attrs:{id:"start-venus-normal-node"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#start-venus-normal-node"}},[e._v("#")]),e._v(" Start venus normal node")]),e._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[e._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# first start, devgen.car is generated by the genesis node")]),e._v("\n     ./venus daemon --genesisfile"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("devgen.car --network"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("2k --offline"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("true\n\n     "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# other")]),e._v("\n     ./venus daemon --network"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("2k --offline"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("true\n")])])]),t("h2",{attrs:{id:"generate-normal-miner"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#generate-normal-miner"}},[e._v("#")]),e._v(" Generate normal miner")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("```sh\n    # Create a wallet\n    ./venus wallet new\n    # Transfer, execute in genesis node\n    ./venus send $WALLET_T3_ADDR --value=[value]\n    # query\n    ./venus wallet balance $WALLET_T3_ADDR\n    # generate normal miner\n    ./venus-sealer init --owner=$WALLET_T3_ADDR --worker=$WALLET_T3_ADDR --sector-size=2048 --nosync\n```\n")])])]),t("h2",{attrs:{id:"start-service-of-normal-node"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#start-service-of-normal-node"}},[e._v("#")]),e._v(" Start service of normal node")]),e._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[e._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# start sealing service")]),e._v("\n     ./venus-sealer run --nosync\n     "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# seal once")]),e._v("\n     ./venus-sealer sectors pledge\n     "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# start mining service, execute commands on the started miner node")]),e._v("\n     ./venus-miner address "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("add")]),e._v(" --addr"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("miner"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" --listen-api"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/ip4/"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("sealer_ip"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("/tcp/2345/http --token"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("sealer_token"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n")])])]),t("p",[t("a",{attrs:{href:"https://github.com/filecoin-project/venus-docs/blob/master/docs/How-to-setup_2knet.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("Edit this page"),t("OutboundLink")],1),e._v(" on GitHub or "),t("a",{attrs:{href:"https://github.com/filecoin-project/venus-docs/issues",target:"_blank",rel:"noopener noreferrer"}},[e._v("open an issue"),t("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=n.exports}}]);