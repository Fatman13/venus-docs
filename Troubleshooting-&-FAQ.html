<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Troubleshooting and FAQ | Venus Filecoin</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/assets/icon-coin-128.png">
    <meta name="description" content="Venus is a Go implementation of the Filecoin Distributed Storage Network.">
    
    <link rel="preload" href="/assets/css/0.styles.4822e3fa.css" as="style"><link rel="preload" href="/assets/js/app.ce9e11f6.js" as="script"><link rel="preload" href="/assets/js/2.af220fa8.js" as="script"><link rel="preload" href="/assets/js/16.a7e61919.js" as="script"><link rel="prefetch" href="/assets/js/10.17f29d6b.js"><link rel="prefetch" href="/assets/js/11.a0a364ac.js"><link rel="prefetch" href="/assets/js/12.355adc5e.js"><link rel="prefetch" href="/assets/js/13.5c4b0d4e.js"><link rel="prefetch" href="/assets/js/14.8adb35e9.js"><link rel="prefetch" href="/assets/js/15.c9768e00.js"><link rel="prefetch" href="/assets/js/17.5e2e6093.js"><link rel="prefetch" href="/assets/js/18.fb566c4e.js"><link rel="prefetch" href="/assets/js/3.c26e6815.js"><link rel="prefetch" href="/assets/js/4.a9308c9a.js"><link rel="prefetch" href="/assets/js/5.d573531e.js"><link rel="prefetch" href="/assets/js/6.47a295e2.js"><link rel="prefetch" href="/assets/js/7.db8f4db6.js"><link rel="prefetch" href="/assets/js/8.e5e8e478.js"><link rel="prefetch" href="/assets/js/9.8a2f280e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.4822e3fa.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/filecoin-logo.svg" alt="Venus Filecoin" class="logo"> <span class="site-name can-hide">Venus Filecoin</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://docs.filecoin.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Filecoin Docs
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/filecoin-project/venus" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://docs.filecoin.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Filecoin Docs
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/filecoin-project/venus" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Venus Filecoin Tutorial</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Home.html" class="sidebar-link">Overview</a></li><li><a href="/Getting-Started.html" class="sidebar-link">Getting started</a></li><li><a href="/Mining-Filecoin.html" class="sidebar-link">Mining Filecoin</a></li><li><a href="/Storing-on-Filecoin.html" class="sidebar-link">Storing on Filecoin</a></li><li><a href="/Troubleshooting-&amp;-FAQ.html" aria-current="page" class="active sidebar-link">Troubleshooting &amp; FAQ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Troubleshooting-&amp;-FAQ.html#table-of-contents" class="sidebar-link">Table of contents</a></li></ul></li><li><a href="/Commands.html" class="sidebar-link">CLI commands</a></li><li><a href="/How-to-connect-two-nodes-directly.html" class="sidebar-link">Connecting two nodes directly</a></li><li><a href="/Running-a-network-locally.html" class="sidebar-link">Running a local network</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Resources</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="troubleshooting-and-faq"><a href="#troubleshooting-and-faq" class="header-anchor">#</a> Troubleshooting and FAQ</h1> <p><em>Having trouble with <code>go-filecoin</code>? Here are some common errors (and their fixes), as well as answers to frequently asked questions.</em></p> <p><em>Note: This wiki focuses on <code>go-filecoin</code>. For questions about the Filecoin Project at large, see the <a href="https://filecoin.io/faqs/" target="_blank" rel="noopener noreferrer">Filecoin Project FAQ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</em></p> <h2 id="table-of-contents"><a href="#table-of-contents" class="header-anchor">#</a> Table of contents</h2> <ul><li><a href="#troubleshooting-and-faq">Troubleshooting and FAQ</a> <ul><li><a href="#table-of-contents">Table of contents</a> <ul><li><a href="#known-issues">Known issues</a></li> <li><a href="#changing-ports">Changing ports</a></li> <li><a href="#installing-from-binary">Installing from binary</a></li> <li><a href="#downloading-and-building-from-source">Downloading and building from source</a></li> <li><a href="#mining-and-deals">Mining and deals</a></li> <li><a href="#storage">Storage</a></li> <li><a href="#daemon-will-not-start">Daemon will not start</a></li> <li><a href="#problems-caused-by-incomplete-chain-sync">Problems caused by incomplete chain sync</a></li> <li><a href="#issues-connecting-to-a-network">Issues connecting to a network</a></li> <li><a href="#upgrading">Upgrading</a></li></ul></li></ul></li></ul> <h3 id="known-issues"><a href="#known-issues" class="header-anchor">#</a> Known issues</h3> <p>Known bugs are <a href="https://github.com/filecoin-project/go-filecoin/issues?q=is%3Aissue+is%3Aopen+label%3AC-bug" target="_blank" rel="noopener noreferrer">catalogued here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h3 id="changing-ports"><a href="#changing-ports" class="header-anchor">#</a> Changing ports</h3> <p>go-filecoin uses static port 6000 by default. If you want to change to another port to troubleshoot NAT or other issues, here's how.</p> <ol><li><p>After initializing the node, navigate to configuration file <code>config.json</code>. By default this lives at <code>~/.filecoin/config.json</code>.</p></li> <li><p>Find the swarm section of the config. Replace <code>6000</code> with the port you wish to use.</p></li></ol> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;swarm&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>                                                                                                                                           
                <span class="token property">&quot;address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/ip4/0.0.0.0/tcp/6000&quot;</span>                                                                                                           
        <span class="token punctuation">}</span><span class="token punctuation">,</span> 
</code></pre></div><ol start="3"><li>Restart the daemon. <code>go-filecoin id</code> should show you using the new swarm address.</li></ol> <h3 id="installing-from-binary"><a href="#installing-from-binary" class="header-anchor">#</a> Installing from binary</h3> <ul><li><strong>Error: “go-filecoin” is damaged and can’t be opened. You should move it to the Trash.&quot; (MacOS) <br></strong>
This is due to Mac's default protection settings. On MacOS before Sierra, go to <code>System Preferences &gt; Security &amp; Privacy &gt; General</code>. Select <code>Allow apps downloaded from: Anywhere</code>. (Allowing the individual application doesn't work.)</li></ul> <h3 id="downloading-and-building-from-source"><a href="#downloading-and-building-from-source" class="header-anchor">#</a> Downloading and building from source</h3> <ul><li><p><strong>Error when cloning: authenticity of host can’t be established<br></strong>
Make sure your Github account has <a href="https://help.github.com/articles/adding-a-new-ssh-key-to-your-github-account/" target="_blank" rel="noopener noreferrer">SSH keys added<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p></li> <li><p><strong>Error: invalid active developer path (/Library/Developer/CommandLineTools), missing xcrun<br></strong>
Make sure you have <a href="https://developer.apple.com/xcode/" target="_blank" rel="noopener noreferrer">XCode<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> installed.</p></li> <li><p><strong>Error when pulling: SharedFrameworks not found or unable to locate xcodebuild<br></strong>
This is due to an out-of-sync Xcode/command line tools installation (see <a href="https://github.com/golang/go/issues/26073" target="_blank" rel="noopener noreferrer">golang/go/issues/26073<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>). You can try updating Xcode (if you’re running an outdated version) and then launch it to install the latest command-line tools.</p></li> <li><p><strong>$GOPATH or $PATH errors such as &quot;panic: exec: gx-go executable file is not found in $PATH&quot;<br></strong>
Make sure that the deps step ran successfully. If for example you are on a Mac and you installed go and rust with brew, GOPATH isn't explicitly set for you, the binaries will be installed in <code>/usr/local/opt/go/libexec/bin</code>, and also your default GOPATH is <code>~/go/</code>. Check your path and make sure all the go bin paths are there, and if not, add them:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token variable">${<span class="token environment constant">PATH</span>}</span>:/usr/local/opt/go/libexec/bin:~/go/bin
</code></pre></div><p>Then retry <code>go run ./build/*.go deps</code> before retrying the build.</p> <p>If you are still stuck, or you see an error message with <code>$GOPATH</code> or <code>$PATH</code>, it could be an issue with your Go workspace setup. This <a href="https://www.ardanlabs.com/blog/2016/05/installing-go-and-your-workspace.html" target="_blank" rel="noopener noreferrer">tutorial<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> may help.</p></li> <li><p><strong>Error: package 'go-filecoin' requires at least go version 1.11.1.</strong>
...however, your gx-go binary was compiled with go1.10.3. Please update gx-go (or recompile with your current go compiler)
If you installed <code>ipfs</code> from homebrew, you may have the wrong version of <code>gx</code> and <code>gx-go</code> on your path. As with the previous point, check your <code>$PATH</code> and make sure all the go bin paths are there, and if not, add them, before your homebrew path.</p></li> <li><p><strong>Rust error while running build or deps<br></strong>
If you encounter a rust compiler error, i.e. <code>cargo build --release --all --manifest-path proofs/rust-proofs/Cargo.toml' failed:</code> try updating rust to the latest version with <code>rustup update</code>.</p></li> <li><p><strong>Error while running install<br></strong>
If you encounter an error while running install, i.e. <code>/System/Library/Frameworks//Security.framework/Security are out of sync. Falling back to library file for linking</code>, this may be due to outdated installs. Reinstall Go via the <a href="https://golang.org/doc/install" target="_blank" rel="noopener noreferrer">installer<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. Then remove filecoin (<code>rm -rf ./go-filecoin</code>) and <a href="Getting-Started">reinstall it</a>.</p></li> <li><p><strong>Can't build OS X Mojave <code>fatal error: 'stdio.h' file not found</code></strong>
You may see this error if you are building everything from source and not installing anything with homebrew, for example, when building go-secp256k1:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>go get -u github.com/ipsn/go-secp256k1
<span class="token comment">#github.com/ipsen/go-secp256k1</span>
In <span class="token function">file</span> included from <span class="token punctuation">..</span>/<span class="token punctuation">..</span>/ipsn/go-secp256k1/secp256.go:17
In <span class="token function">file</span> included from ././libsecp256k1/src/secp256k1.c:9:
<span class="token punctuation">..</span>/<span class="token punctuation">..</span>/ipsn/go-secp256k1/libsecp256k1/src/util.h:14:10: fatal error: <span class="token string">'stdlib.h'</span> <span class="token function">file</span> not found
<span class="token comment">#include &lt;stdlib.h&gt;</span>
         ^~~~~~~~~~
</code></pre></div><p>OS X Mojave moved the location of <code>stdlib.h</code> out of <code>/usr/include</code>.  This issue exists for other packages and there are several possible solutions suggested in this thread for <a href="https://github.com/neovim/neovim/issues/9050" target="_blank" rel="noopener noreferrer">neovim issue #9050<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. Thanks to Filecoin community member <em>A_jinbin_filecoin.cn</em> for the link.</p></li> <li><p><strong>Error when installing dependencies <code>'go mod download' failed</code></strong><br>
If you're updating go-filecoin from a previous version the git submodules may also need to be updated. Try <code>git submodule update --init --recursive</code> to update them.</p></li></ul> <h3 id="mining-and-deals"><a href="#mining-and-deals" class="header-anchor">#</a> Mining and deals</h3> <ul><li><p><strong>Miner create fails</strong></p> <ul><li>Make sure that your node has a valid wallet and the wallet has a nonzero balance.</li> <li>Make sure that your node is connected to the swarm/network. If the daemon has been restarted, run <code>swarm connect</code>.</li></ul></li> <li><p><strong>Transaction hangs (message never mined)</strong></p> <ul><li>If running two nodes on the same machine and you see something like <code>ERROR consensus.: Nonce too high: 5 0 &lt;UnknownActor (0xc0137edda0); balance: 1000000; nonce: 0&gt;</code>, you probably tried to create a miner at least once before. This updated the local nonce, even though the creation may have failed. Your nonce is too high for valid mining. <em>There is no known way around this except re-initing the node.</em></li> <li>If only running a single node, this problem is unobservable to you at present (the log message only appears in other nodes). If you suspect this, re-init your node.</li></ul></li> <li><p><strong>Proposing deal fails: error sending proposal: context deadline exceeded</strong></p> <ul><li>Deals are proposed directly to the miner in question (off-chain), so your node needs a direct connection to the miner, e.g. to create a payment channel. The miner is offline or otherwise inaccessible to you. Try another miner.</li> <li>The maximum piece (i.e. file) size must be less than the miner sector size, currently 256Mib.</li></ul></li> <li><p><strong>Proposing deal fails: error creating payment: context deadline exceeded</strong></p> <ul><li>Our best guess is that a prior message failed to be mined, but increased your actor's nonce. Tracking in <a href="https://github.com/filecoin-project/go-filecoin/issues/1936" target="_blank" rel="noopener noreferrer">#1936<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. You probably need to re-init your node.</li></ul></li> <li><p><strong>Proposing deal fails: error sending proposal: context deadline exceeded</strong></p> <ul><li>Deals are proposed directly to the miner in question (off-chain), so your node needs a direct connection to the miner, e.g. to create a payment channel. The miner is offline or otherwise inaccessible to you. Try another miner.</li> <li>The maximum piece (i.e. file) size must be less than the miner sector size, currently 256Mib.</li></ul></li> <li><p><strong>Proposing deal fails: error creating payment: context deadline exceeded</strong></p> <ul><li>Our best guess is that a prior message failed to be mined, but increased your actor's nonce. Tracking in <a href="https://github.com/filecoin-project/go-filecoin/issues/1936" target="_blank" rel="noopener noreferrer">#1936<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. You probably need to re-init your node.</li></ul></li> <li><p><strong>Why is my deal stuck in the <code>Staged</code> state?</strong></p> <ul><li><p><strong>Was my piece too big?</strong>
If a storage client C proposes a deal D with a miner M and that D references a piece P whose size is less than or equal to the size of M's staged sector, P will be transferred from C to M and M will write P to its staged sector. The state of D will be <code>Staged</code> at this point.</p> <p>If the state does not equal <code>Staged</code> immediately after C proposes a deal with M and transfers the bytes, then P isn't &quot;waiting to be sealed.&quot; This can happen if the size of P is larger than size of the sector. In the devnet/user cluster, that size I speak of is <code>266338304</code> bytes.</p></li> <li><p><strong>At which point will the state of a deal move from <code>Staged</code> to <code>Posted</code>?</strong>
If the state of deal D is <code>Staged</code>, then the miner has accepted piece P and written it to a staged sector S. <strong>If M isn't using auto-sealing</strong>, P will sit in S until M receives a new deal D2 proposal whose piece P2 is large enough such that size(P) + size(P2) &gt;= free-space(S). When this happens, M will start sealing S. When sealing completes, the state of D will become <code>Posted</code>.</p></li></ul></li> <li><p><strong>Why hasn't my deal transitioned to <code>Posted</code>?</strong></p> <ul><li>Before a deal can be <code>Posted</code>, the miner must accept the piece and write it to a staged sector (see above question for details). Some miners, including bootstrap nodes run by the Filecoin project, are configured to automatically do this at short intervals (this is called auto-sealing). However, it's entirely possible that the selected miner is (1) not using auto-sealing and (2) still waiting for new deals to fill the staged sector sufficient before sealing. In that case, there will be a delay before the deal becomes <code>Posted</code>.</li></ul></li></ul> <h3 id="storage"><a href="#storage" class="header-anchor">#</a> Storage</h3> <ul><li><p><strong>How can I make sure my piece is sealed immediately?</strong></p> <ul><li><p>To ensure that your piece is sealed into a miner's staged sector immediately, the size of your piece should equal the sector size (in bytes). In the devnet/user cluster, this number is configured to be <code>266338304</code>.</p> <p>To create such a piece and store its CID in <code>PIECE_1_CID</code>, a storage client can run the following commands:</p> <div class="language-sh extra-class"><pre class="language-sh"><code><span class="token assign-left variable">PIECE_1_PATH</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>mktemp<span class="token variable">)</span></span>
<span class="token function">dd</span> <span class="token assign-left variable">if</span><span class="token operator">=</span>/dev/urandom <span class="token assign-left variable">of</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">${PIECE_1_PATH}</span>&quot;</span> <span class="token assign-left variable">bs</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span><span class="token number">1024</span><span class="token operator">*</span><span class="token number">1024</span><span class="token variable">))</span></span> <span class="token assign-left variable">count</span><span class="token operator">=</span><span class="token number">254</span>
<span class="token assign-left variable">PIECE_1_CID</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>./go-filecoin client <span class="token function">import</span> <span class="token operator">&lt;</span> $<span class="token punctuation">{</span>PIECE_1_PATH<span class="token punctuation">}</span><span class="token variable">)</span></span>
</code></pre></div></li></ul></li></ul> <h3 id="daemon-will-not-start"><a href="#daemon-will-not-start" class="header-anchor">#</a> Daemon will not start</h3> <ul><li>If you see <code>Error: failed to load config file: failed to read config file at &quot;~/.filecoin/config.json&quot;: invalid checksum</code> when trying to start a daemon, check that the defaultAddress and miner.address are correct in config.json.</li></ul> <h3 id="problems-caused-by-incomplete-chain-sync"><a href="#problems-caused-by-incomplete-chain-sync" class="header-anchor">#</a> Problems caused by incomplete chain sync</h3> <ul><li><p><strong>I requested funds from the faucet and I have a message CID , but there are no funds in my wallet.</strong></p> <p>This is most likely because your node hasn't finished syncing the entire blockchain yet. When you use the faucet to receive funds, the faucet sends your node funds from another node. The funds are issued as a message which will be mined into a new block. The new block must be synced to your chain before your node can determine that you wallet has the balance. The message wait command is used to ensure that the message is 1) mined into a block 2) that you have that block synced to your chain. Since your faucet request is put on the latest block, if you don't have that block yet in your chain, the FIL won't appear in your wallet.</p> <p>Currently chain syncing can be a little slow. The process of downloading all of the blocks is pretty quick, but the slowness comes when your node replays all messages in the block to ensure everything is valid. This process currently takes quite a long time. See <a href="https://github.com/filecoin-project/go-filecoin/wiki/Getting-Started#get-fil-from-the-filecoin-faucet" target="_blank" rel="noopener noreferrer">Get FIL from the Filecoin Faucet<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for how to check your node's sync progress.</p></li> <li><p><strong>Message stays in wait state for a long time, go-filecoin message wait seems to hang</strong></p> <p>Similarly to above, you can post any new message to the network before you have finished syncing the chain. You won't see the message until the chain is done syncing. See <a href="https://github.com/filecoin-project/go-filecoin/wiki/Getting-Started#get-fil-from-the-filecoin-faucet" target="_blank" rel="noopener noreferrer">Get FIL from the Filecoin Faucet<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for how to check your node's sync progress.</p></li></ul> <h3 id="issues-connecting-to-a-network"><a href="#issues-connecting-to-a-network" class="header-anchor">#</a> Issues connecting to a network</h3> <ul><li><p><strong>How do I connect to the network?</strong></p> <p>See <code>go-filecoin swarm --help</code>.  In order to connect to a particular network, you must have the correct binary (or source code) and you need to have initialized your filecoin repodir with the right genesis.car file for that network.</p></li> <li><p><strong>I'm receiving a lot of errors when I connect to user-devnet or test-devnet</strong></p> <p>Seeing an error such as</p> <div class="language-text extra-class"><pre class="language-text"><code>code not at same version: GIT_SHA does not match DIFFERENT_GIT_SHA, disconnecting from peer:
</code></pre></div><p>or seeing a lot of errors during validation of blocks during chain syncing means that your binary or source code is not at the correct version for the devnet you'd like to join. To join a devnet, download the latest release for that devnet in the <a href="https://github.com/filecoin-project/venus/releases" target="_blank" rel="noopener noreferrer">Releases<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> section of the repository and follow the directions in <a href="Getting-Started">Getting Started</a> sections of the wiki.</p></li></ul> <h3 id="upgrading"><a href="#upgrading" class="header-anchor">#</a> Upgrading</h3> <ul><li><strong>How do I upgrade my version of go-filecoin?<br></strong>
To upgrade <code>go-filecoin</code>, you will need to re-run the full download and build process in <a href="https://github.com/filecoin-project/go-filecoin/blob/master/README.md" target="_blank" rel="noopener noreferrer">README.md<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. In the future, we plan to add automatic updating (<a href="https://github.com/filecoin-project/go-filecoin/issues/8" target="_blank" rel="noopener noreferrer">#8<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>).</li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/filecoin-project/docs/edit/master/docs/Troubleshooting-&amp;-FAQ.md" target="_blank" rel="noopener noreferrer">Suggest an Edit</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">1/8/2021, 7:01:56 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Storing-on-Filecoin.html" class="prev">
        Storing on Filecoin
      </a></span> <span class="next"><a href="/Commands.html">
        CLI commands
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.ce9e11f6.js" defer></script><script src="/assets/js/2.af220fa8.js" defer></script><script src="/assets/js/16.a7e61919.js" defer></script>
  </body>
</html>
